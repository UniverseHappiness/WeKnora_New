# 前端笔记：`useRouter` 的来源与使用

- 代码位置：`frontend/src/views/auth/Login.vue:159`
- 语句：`const router = useRouter()`

## 来源
- `useRouter` 来自 `vue-router`，在组件内以组合式 API 获取当前应用的路由实例。
- 引入位置：`frontend/src/views/auth/Login.vue:150`（`import { useRouter } from 'vue-router'`）。
- 路由实例创建：`frontend/src/router/index.ts:6-8` 使用 `createRouter` 与 `createWebHistory` 创建并导出 `router`。
- 应用安装：`frontend/src/main.ts:15` 将路由通过 `app.use(router)` 安装到 Vue 应用，使得 `useRouter()` 可以在任意组件中获取到该实例。

## 相关文件
- 路由创建与配置：`frontend/src/router/index.ts`
  - 默认导出 `router`，配置了登录页与平台页面的多级嵌套路由，以及路由守卫（`beforeEach`）。
- 应用入口：`frontend/src/main.ts`
  - 通过 `app.use(router)` 安装路由插件。

## 在 Login.vue 中的用途
- 登录成功后进行页面跳转：`frontend/src/views/auth/Login.vue:286-287` 使用 `router.replace('/platform/knowledge-bases')` 跳转到知识库列表页面。
- 已登录状态的重定向：`frontend/src/views/auth/Login.vue:341-343` 组件挂载时根据登录状态 `router.replace('/platform/tenant/knowledge-bases')`。

## 小结
- `useRouter()` 是获取全局路由实例的标准方式；该实例源自 `router/index.ts`，并在 `main.ts` 中被安装到应用。
